#kivy 1.0.9

#<Widget>:
#    canvas.after:
#        Line:
#            rectangle: self.x+1,self.y+1,self.width-1,self.height-1
#            dash_offset: 5
#            dash_length: 3

<GcodeCanvas>:
    canvas:
        Line:
            points: 0,200,self.width,200
            dash_offset: 5
        Line:
            points: 300,0,300,self.height
            dash_offset: 5
        Line:
            circle: 300, 200, 15
        Line:
            points: 300 - 15, 200 - 15, 300 + 15, 200 + 15
        Line:
            points: 300 + 15, 200 - 15, 300 - 15, 200 + 15

<FrontPage>:

    GcodeCanvas:
        id: gcodecanvas
    GridLayout:
        cols: 4
        pos: self.width - 4*75, 0
        Button:
            text: '<^'
            size_hint: None, None
            width:75
            height: 60
            on_press: root.testFuncOne()
        Button:
            text: '^'
            size_hint: None, None
            width:75
            height: 60
            on_press: root.testFuncTwo()
        Button:
            text: '>^'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: 'UP'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: '<'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: 'HOME'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: '>'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: 'DOWN'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: '<\/'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: '\/'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: '\/'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: 'Stop'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: 'Toggle\nSpindle'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: 'Re-Zero'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: 'Scroll\nEnable'
            size_hint: None, None
            width:75
            height: 60
        Button:
            text: 'RUN'
            size_hint: None, None
            width:75
            height: 60
    TextInput:
        id: moveDist
        text: "Distance"
        size_hint: None, None
        width: 225/2
        height: 40
        pos: root.width - 300, root.height-280
        multiline: False
    TextInput:
        id: moveSpeed
        text: "Speed"
        size_hint: None, None
        width: 225/2
        height: 40
        pos: root.width - 188 , root.height-280
        multiline: False
    Button:
        text: 'mm'
        size_hint: None, None
        width:75
        height: 40
        pos: root.width - 75 , root.height-280
    Label:
        text: "0.0 mm"
        size_hint: None, None
        pos: root.width - 220, root.height-360
    Label:
        text: "0.0 mm"
        size_hint: None, None
        pos: root.width - 220, root.height-380
    Label:
        text: "0.0 mm"
        size_hint: None, None
        pos: root.width - 220, root.height-400
    Label:
        text: "Estimated Time Remaining:"
        size_hint: None, None
        pos: root.width - 120, root.height-360
        font_size: '11sp'
    Label:
        text: "TBD"
        size_hint: None, None
        pos: root.width - 120, root.height-380
    Label:
        text: "0.0"
        size_hint: None, None
        pos: root.width - 120, root.height-400
    Label:
        text: "Connected on COM11"
        size_hint: None, None
        pos: root.width - 170, root.height-430
    Label:
        text: "Connected\nG20\nG19\nG01 X23.232 Y-1.382"
        size_hint: None, None
        pos: root.width - 170, root.height-500

<ViewMenu>:
    GridLayout:
        cols: 1
        size: root.size
        pos: root.pos
        Label:
            text: "View"
        Button:
            text: 'Open File'
        Button:
            text: 'Update Gcode'
        Button:
            text: 'View Gcode'
        Button:
            text: 'Reset Origin'
                
<RunMenu>:
    GridLayout:
        cols: 1
        size: root.size
        pos: root.pos
        Label:
            text: "Run"
        Button:
            text: 'Pause'
        Button:
            text: 'Resume'
        Button:
            text: 'Zero Z'
        Button:
            text: 'Auto Zero Z'
                
<ConnectMenu>:
    GridLayout:
        cols: 1
        size: root.size
        pos: root.pos
        Label:
            text: "Connect"
        Button:
            text: 'Reconnect'
        Button:
            text: 'Ports'
        Button:
            text: 'Update List'
                
<Diagnostics>:
    GridLayout:
        cols: 3
        size: root.size
        pos: root.pos
        Label:
            text: "Diagnostic features"
        Button:
            text: 'Test Encoders'
        Button:
            text: 'Test Motors'
        Button:
            text: 'Test Both'
        Button:
            text: 'Calibrate Motors'
        Button:
            text: 'Calibrate Magnets'
        Button:
            text: 'About'

<ManualControl>:
    GridLayout:
        cols: 3
        size: root.size
        pos: root.pos
        Button:
            text: 'ManualControl'
                
<OtherFeatures>:
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            padding:2
            spacing:0
            
            ViewMenu:
                id: viewmenu
            RunMenu:
                id: runmenu
            ConnectMenu:
                id: connectmenu
        BoxLayout:
            orientation: 'vertical'
            padding:2
            spacing:0
            
            Diagnostics:
                id: diagnostics
            ManualControl:
                id: manualcontrol

<SoftwareSettings>:
    GridLayout:
        cols: 1
        Button:
            text: 'Settings'
